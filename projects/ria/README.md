
# Воспроизведение получения данных для исследования ЦПУР «Качество проведения оценки регулирующего воздействия в России: что показывает сплошной анализ текстовых данных?»

В этой директории находится код, который использовался экспертами и аналитиками [«Центра перспективных управленческих решений»](https://cpur.ru/research/) для сбора данных и проведения анализа для аналитического доклада «Качество проведения оценки регулирующего воздействия в России: что показывает сплошной анализ текстовых данных?».

Мы разместили его в открытом доступе для того, чтобы наши данные и результаты можно было воспроизвести и проверить, а также использовать какие-то части кода для других исследований. 

К использованию предлагаются два сценария работы с этой базой кода.

### 1. Воспроизвести только аналитику ЦПУР

Если нужно проверить вычисления, сделанные в докладе, на готовом датасете, опубликованном в [каталоге ИНИД](https://data-in.ru/), нужно:
1. В файле `config.json` указать подходяшее название директории, в которой будут появляться файлы (по умолчанию – `workdir`). Остальные поля конфигурационного файла можно оставить пустыми.
2. Зайти в тетрадку `reproduce_data_generation.ipynb`, выполнить часть с инициализацией
3. В этой же тетрадке во время выполнения кода выбрать первый способ получения данных – данные скачаются из каталога ИНИД.
4. Запустить третий этап – нормализацию данных
5. Зайти в папку `analysis`, где представлен код на `R`, генерирующий графики и строящий регрессионные модели.
6. Зайти в папку `text_matching` и запустить блокнот `find_matches.ipynb`, где представлен тьюториал по матчингу текстов с `regulation.gov.ru` и `sozd.duma.gov.ru`

### 2. Воспроизвести получение датасета ИНИД

Чтобы перегенерировать датасет, используемый для исследования и размещенный в каталоге ИНИД, нужно:
1. Получить `token` публичного API Госдумы и внести его в `config.json`
2. Создать экземпляр `Postgres` и указать его параметры (адрес, порт, логин, пароль) в соответствующие поля `config.json`
3. Указать подходяшее название директории, в которой будут появляться файлы (по умолчанию – `workdir`)
4. Зайти в тетрадку `reproduce_data_generation.ipynb` и воспользоваться вторым вариантом получения данных – из первоисточников.
5. Запастись терпением – сайт regulation.gov.ru, конвертеры больших отчетов и их парсеры работают не быстро :)

### Для обратной связи:

Мария Василевская, m.vasilevskaia@cpur.ru

Кирилл Казанцев, k.kazantcev@cpur.ru

Семён Зорин, s.zorin@cpur.ru
